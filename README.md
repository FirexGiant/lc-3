# LC-3 Assembler

This project has two components, an assembler and a simulator, for the
[LC-3](https://en.wikipedia.org/wiki/Little_Computer_3). The main focus of this
project is the assembler, the simulator is for testing and is incomplete.

The assembler is single-pass meaning that it only reads the source code once.
It still supports back references through a simple data structure. This
technique was described in [Assemblers and
Loaders](https://www.davidsalomon.name/assem.advertis/AssemAd.html).

### Assembler

The `lc3al` executable takes assembly code (examples can be found in
`examples` folder) and produces a listing file and an object file. The
object file can be used by the simulator to run the program.

```sh
Usage: lc3al <sourcefile>
```

The `<sourcefile>` doesn't need to have an extension supplied to it, the
assembler will still generate the correct filenames for the listing and
object files.

```sh
lc-3>lc3al foo
lc-3>dir /b
foo
foo.lst
foo.obj

lc-3>lc3al foo.asm
lc-3>dir /b
foo.asm
foo.lst
foo.obj
```

The object file is stored as 16-bit big-endian integers.

### Simulator

The simulator takes the object file generated by `lc3al` and runs
the program.

```sh
Usage: lc3 <objectfile>
```

## Building

Compiling currently requires CMake and a C++ compiler.

```bat
lc-3>md build
lc-3>cmake-gui .
lc-3>rem configure and generate
lc-3>cmake --build build
```
